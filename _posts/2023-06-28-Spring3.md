---
title: "스프링 컨테이너와 스프링 빈"
categories: 
    - Spring
tags:
    - Spring
---

* **스프링 컨테이너 생성** <br><br>
![img1](/assets/images/3_1.png){: width="70%"", height="40%""} <br><br>

* new AnnotationConfigApplicationContext(AppConfig.class), 스프링 컨테이너를 생성할 때는 구성 정보를 지정해줘야 한다. (AppConfig) <br><br>

* **스프링 빈 등록** <br><br>
![img2](/assets/images/3_2.png){: width="70%"", height="40%""} <br><br>

* 설정 정보 클래스 (AppConfig)를 통해서 스프링 빈을 등록한다.
* 빈 이름은 default로 메서드 이름이 사용된다. (직접 지정할 수도 있다.)
* 빈 이름은 항상 다른 이름이 부여되야 한다. 같은 이름이 들어오게 되면 무시되거나, 기존 빈을 덮어버리는 현상이 발생할 수 있다. <br><br>

 **스프링 빈 의존관계 설정** <br><br>

![img3](/assets/images/3_3.png){: width="70%"", height="40%""} <br><br>
![img4](/assets/images/3_4.png){: width="70%"", height="40%""} <br><br>

* 스프링은 빈을 생성하는 단계와, 의존관계를 주입하는 단계가 나뉘어 있다. <br><br>

**BeanFactory와 ApplicationContext** <br><br>

![img5](/assets/images/3_5.png){: width="40%"", height="30%""} <br><br>

* BeanFactory는 스프링 컨테이너의 최상위 인터페이스이다.
* BeanFactory는 스프링 빈을 관리하고 조회하는 역할을 담당한다. getBean()함수도 BeanFactory가 제공하는 것이다. <br><br>

![img6](/assets/images/3_6.png){: width="60%"", height="40%""} <br><br>

* ApplicationContext는 이러한 BeanFactory뿐 아니라 MessageSource, EnvironmentCapable 등 여러 부가적인 인터페이스를 상속하여 더 많은 기능을 제공한다. 
* 그리고 스프링 컨테이너(ApplicationContext)는 자바 코드로 설정하는 방식뿐 아니라 XML 등 다른 설정정보를 바탕으로 생성할 수도 있다. <br><br>

![img7](/assets/images/3_7.png){: width="60%"", height="40%""} <br><br>

* 자바 코드로 설정 -> AnnotationConfigApplicationContext
* XML로 설정 -> GenericXmlApplicationContext <br><br>

**BeanDefinition**<br><br>
![img8](/assets/images/3_8.png){: width="60%"", height="40%""} <br><br>

* 스프링 컨테이너는 BeanDefinition만 알면 된다. BeanDefinition이 자바코드, XML 등 어떤걸로 생성됬는지 몰라도 된다.


