<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Java] JVM - Jinsu’s story</title>
<meta name="description" content="">


  <meta name="author" content="Moon JinSu">
  
  <meta property="article:author" content="Moon JinSu">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="Jinsu's story">
<meta property="og:title" content="[Java] JVM">
<meta property="og:url" content="http://localhost:4000/java/java_JVM1/">


  <meta property="og:description" content="">







  <meta property="article:published_time" content="2023-07-16T00:00:00+09:00">





  

  


<link rel="canonical" href="http://localhost:4000/java/java_JVM1/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "문진수(Moon JinSu)",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Jinsu's story Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Jinsu's story
          
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">토글 메뉴</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Moon JinSu</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>tech blog</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">팔로우</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Seoul, Korea</span>
        </li>
      

      
        
          
        
          
        
          
        
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->

<!-- Categories -->
<nav class="nav__list">
  <ul class="nav__items" id="category_tag_menu">
      <li>
          <span class="nav__sub-title">📂 Total (43)</span>
          <ul>
              
                  
                  <li>
                      <a href="/categories/#spring" class="">Spring (14)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#디자인패턴" class="">디자인패턴 (8)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#java" class="">Java (3)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#algorithm" class="">Algorithm (2)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#jpa" class="">JPA (7)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#sqld" class="">SQLD (2)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#network" class="">Network (4)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#layer5" class="">Layer5 (1)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#클린코드" class="">클린코드 (1)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#git" class="">git (1)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#우테코" class="">우테코 (1)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#테스트" class="">테스트 (1)</a>
                  </li>
                  
              
          </ul>
      </li>
  </ul>
  </nav>

    </ul>
  </div>
</div>

  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[Java] JVM">
    <meta itemprop="description" content="">
    <meta itemprop="datePublished" content="2023-07-16T00:00:00+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="http://localhost:4000/java/java_JVM1/" class="u-url" itemprop="url">[Java] JVM
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 분 소요
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <p><br /></p>

<h1 id="jvm-이란"><em>JVM 이란?</em></h1>

<p>JVM(Java Virtual Machine) 은 자바와 운영체제 사이에서 중개자 역할을 수행하며 자바가 OS에 의존하지 않고 프로그램을 실행할 수 있게 도와준다. 또한 가비지 컬렉터(GC)를 사용한 메모리 관리도 자동으로 해주며, 다른 하드웨어와 다르게 레지스터 기반이 아닌 스택 기반으로 동작한다.</p>

<p><br /></p>

<p><br /></p>

<h1 id="특징"><em>특징</em></h1>

<p><img src="/assets/images/21_1.png" alt="img1" width="70%&quot;&quot;, height=&quot;40%&quot;" /></p>

<p>자바 컴파일러(<code class="language-plaintext highlighter-rouge">javac</code>) 에 의해서 자바 소스 파일(.java)가 바이트 코드(.class) 로 컴파일된다. 그리고 이를 <code class="language-plaintext highlighter-rouge">JVM</code> 이 읽고 내부적으로 여러 과정을 거쳐서 실행시킨다.</p>

<p>위 그림에서 알 수 있듯이 JVM은 OS에 의존한다. 때문에 각 OS 마다 다른 JVM이 요구된다. javac 에 의해 컴파일된 바이트 코드는 JVM에서 처리되기 때문에 OS에 의존하지 않는다.</p>

<blockquote>
  <h3 id="write-once-run-anywhere"><em>Write once, run anywhere</em></h3>
</blockquote>

<p><br /></p>

<p><br /></p>

<h1 id="실행-과정"><em>실행 과정</em></h1>

<p><img src="/assets/images/21_4.png" alt="img4" width="70%&quot;&quot;, height=&quot;40%&quot;" /></p>

<p>그렇다면 JVM의 실행 과정에 대해서 간단하게 알아보자!</p>

<ol>
  <li>자바 프로그램을 실행하면 JVM은 OS로부터 메모리를 할당받는다.</li>
  <li>자바 컴파일러(<code class="language-plaintext highlighter-rouge">javac</code>) 이 자바 소스코드(.java) 를 자바 바이트 코드(.class)로 컴파일 해준다.</li>
  <li><code class="language-plaintext highlighter-rouge">Class Loader</code> 가 동적 로딩을 통해 필요한 클래스들을 로딩 및 링크해서 <code class="language-plaintext highlighter-rouge">Runtime Data Area</code>에 올린다.</li>
  <li><code class="language-plaintext highlighter-rouge">Runtime Data Area</code>에 로딩 된 바이트 코드는 <code class="language-plaintext highlighter-rouge">Execution Engine</code> 을 통해서 해석된다.</li>
  <li>이 과정에서 <code class="language-plaintext highlighter-rouge">Execution Engine</code>에 의해 GC가 작동하고 쓰레드 동기화가 이루어진다.</li>
</ol>

<p><br /></p>

<p><br /></p>

<h1 id="jvm-메모리-구조"><em>JVM 메모리 구조</em></h1>

<p>JVM의 구체적인 수행과정에 대해서 알아보자.</p>

<p><img src="/assets/images/21_2.png" alt="img2" width="70%&quot;&quot;, height=&quot;40%&quot;" /></p>

<p><code class="language-plaintext highlighter-rouge">Class Loader</code></p>

<ul>
  <li>클래스 로더는 JVM내로 클래스 파일(*.class)을 동적으로 로드하고, 링크를 통해 배치하는 작업을 수행하는 모듈이다.
    <ul>
      <li>.class 파일을 엮어서 JVM의 메모리 영역인 <code class="language-plaintext highlighter-rouge">Runtime Data Areas</code> 에 배치한다.</li>
      <li>Loading -&gt; Linking -&gt; Initalization 과정을 거친다.
        <ul>
          <li><code class="language-plaintext highlighter-rouge">Loading</code> : 클래스 파일을 가져와서 JVM 메모리에 로드한다.</li>
          <li><code class="language-plaintext highlighter-rouge">Linking</code> : 클래스 파일을 사용하기 위해 검증한다.</li>
          <li><code class="language-plaintext highlighter-rouge">Initialization</code> : 클래스 변수들을 적절한 값으로 초기화한다. (static 필드를 설정한 값으로 초기화, 등등)</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">Execution Engine</code></p>

<ul>
  <li>클래스 로더를 통해 <code class="language-plaintext highlighter-rouge">Runtime Data Areas</code> 에 배치된 바이트 코드를 명령어 단위로 읽어서 실행한다. 기본적으로 인터프리터 방식을 사용해서 읽다가 일정 기준을 넘어가면 JLT 컴파일 방식으로 어셈블러 같은 네이티브 코드로 바꿔서 실행한다.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">JTL</code> : 바이트 코드 전체를 컴파일해서 네이티브 코드로 변경하고 이후 메서드를 인터프리팅 하지 않고 캐싱해 두었다가 네이티브 코드로 직접 실행하는 방식이다. 네이티브 코드로 변경하는 것도 비용이 있음으로 JVM은 모든 코드를  JLT 방식으로 실행하지는 않고 인터프리터 방식을 사용하다가  일정 기준을 넘어가면 JLT 컴파일러가 작동하는 방식을 사용한다.</li>
      <li><code class="language-plaintext highlighter-rouge">Interpreter</code> : 바이트 코드 명령어를 하나씩 읽어서 해석하고 바로 실행한다. 같은 메소드라도 여러번 호출이 된다면 매번 해석하고 수행해야 되서 전체적인 속도는 느린 편이다.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">Garbage Collector</code></p>

<ul>
  <li>
    <p>GC는 힙 메모리 영역에 생성된 객체들 중에서 참조되지 않는 객체들을 탐색해서 제거하는 역할을 한다. GC가 실행되는 시점은 정확하게 알 수 없다.</p>
  </li>
  <li>
    <p>수동으로 GC를 실행하기 위해 <code class="language-plaintext highlighter-rouge">System.gc()</code> 를 호출할 수 있지만, 실제 함수 실행은 보장되지 않는다.</p>
  </li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">Runtime Data Area</code></p>

<ul>
  <li>JVM의 메모리 영역으로 자바 애플리케이션을 실행할 때 사용되는 데이터들을 적재하는 영역이다. 이 영역은 크게 Method Area, Heap Area, Stack Area, PC Register, Native Method Stack으로 나뉜다. Method Area, Heap Area는 모든 쓰레드가 공유하고 나머지는 각 쓰레드마다 생성되는 개별 영역이다.</li>
</ul>

<p><img src="/assets/images/21_3.png" alt="img3" width="70%&quot;&quot;, height=&quot;40%&quot;" /></p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">Method Area</code></p>

<ul>
  <li><strong>모든 쓰레드가 공유하는 영역이다.</strong> 클래스, 인터페이스, 메소드, 필드, Static 변수 등의 바이트 코드를 저장한다.</li>
  <li>JVM이 동작하고 클래스가 로드될 때 적재되서 프로그램 종료될 때까지 유지된다.</li>
  <li>Class Area, Static Area 로도 불린다.</li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">Heap Area</code></p>

<p><img src="/assets/images/21_5.png" alt="img3" width="70%&quot;&quot;, height=&quot;40%&quot;" /></p>

<ul>
  <li><strong>마찬가지로 모든 쓰레드가 공유하며</strong>, new 키워드로 생성된 객체와 배열이 생성되는 영역이다. 메소드 영역에 로드된 클래스만 생성이 가능하고 GC가 작동하는 영역이다.</li>
  <li>Heap Area는  GC를 효율적으로 작동시키기 위해서 또 5가지 세부 영역으로 나뉜다.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Young Generation</code> : 생명 주기가 짧은 객체를 GC 대상으로 하는 영역
        <ul>
          <li>Suvivor 0 / Survivor 1 : 각 영역이 채워지게 되면, 살아남은 객체는 비워진 Survivor로 순차적으로 이동</li>
          <li><code class="language-plaintext highlighter-rouge">Eden</code> : new를 통해 새로 생성된 객체가 위치한다. 정기적인 GC후 살아남은 객체는 Survivor로 이동된다.</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">Old Generation</code> : 생명 주기가 긴 객체를 GC 대상으로 하는 영역, Yuoung Generation에서 마지막까지 살아남은 객체가 들어온다.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">Stack Area</code></p>

<ul>
  <li>메서드를 호출할 때마다 각각의 스택 프레임이 생성된다. 그리고 메서드 안에서 사용되는 값들을 저장하고, 호출된 메서드의 매개변수, 지역변수, 리턴 값 및 연산할 때 생성되는 값들을 임시로 저장한다. 메서드 수행이 끝나면 프레임별로 삭제된다.</li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">PC Register</code></p>

<ul>
  <li>쓰레드가 시작될 때 생성되는 공간으로 쓰레드마다 하나씩 존재한다. 쓰레드가 어떤 부분을 어떤 명령으로 실행해야 하는지에 대한 기록을 하는 부분이다. 현재 수행중인 JVM의 명령 주소를 가진다.</li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">Native method stack</code></p>

<ul>
  <li>자바 외 언어로 작성된 네이티브 코드를 위한 메모리 영역이다.</li>
</ul>

<p><br /></p>

<p><br /></p>

<h1 id="참고-사이트-출처"><em>참고 사이트 출처</em></h1>

<p>https://inpa.tistory.com/entry/JAVA-%E2%98%95-JVM-%EB%82%B4%EB%B6%80-%EA%B5%AC%EC%A1%B0-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EC%98%81%EC%97%AD-%EC%8B%AC%ED%99%94%ED%8E%B8</p>

<p>https://steady-coding.tistory.com/305</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> 태그: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#java" class="page__taxonomy-item p-category" rel="tag">Java</a><span class="sep">, </span>
    
      <a href="/tags/#jvm" class="page__taxonomy-item p-category" rel="tag">JVM</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> 카테고리: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#java" class="page__taxonomy-item p-category" rel="tag">Java</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 업데이트:</strong> <time class="dt-published" datetime="2023-07-16T00:00:00+09:00">July 16, 2023</time></p>

      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">공유하기</h4>
  

  <a href="https://twitter.com/intent/tweet?text=%5BJava%5D+JVM%20http%3A%2F%2Flocalhost%3A4000%2Fjava%2Fjava_JVM1%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fjava%2Fjava_JVM1%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fjava%2Fjava_JVM1%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/java/javaIntro/" class="pagination--pager" title="[Java] Intro
">이전</a>
    
    
      <a href="/spring/exceptionHandle/" class="pagination--pager" title="[Spring] 예외 처리
">다음</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">참고</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%ED%85%8C%EC%8A%A4%ED%8A%B8/43/" rel="permalink">[테스트] 단위 테스트
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%EC%9A%B0%ED%85%8C%EC%BD%94/42/" rel="permalink">[프리코스] 숫자 야구 리뷰
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/git/41/" rel="permalink">[git] Merge, Rebase, Cheery-pick
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%ED%81%B4%EB%A6%B0%EC%BD%94%EB%93%9C/40/" rel="permalink">[클린코드] 일급 컬렉션
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">우테코 1주차 과제를 리팩토링하면서 일급 컬렉션이라는 개념에 대해서 알게 됐다. 오늘은 일급 컬렉션이 무엇인지, 그리고 언제 사용하면 유용한지에 대해서 소개하겠다. 
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>팔로우:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> 피드</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 문진수(Moon JinSu). Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
