<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>MVC 기능 - Jinsu’s story</title>
<meta name="description" content="">


  <meta name="author" content="Moon JinSu">
  
  <meta property="article:author" content="Moon JinSu">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="Jinsu's story">
<meta property="og:title" content="MVC 기능">
<meta property="og:url" content="http://localhost:4000/mvc/Spring_MVC_function/">


  <meta property="og:description" content="">







  <meta property="article:published_time" content="2023-07-12T00:00:00+09:00">





  

  


<link rel="canonical" href="http://localhost:4000/mvc/Spring_MVC_function/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "문진수(Moon JinSu)",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Jinsu's story Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Jinsu's story
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://mmistakes.github.io/minimal-mistakes/docs/quick-start-guide/">Quick-Start Guide</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">토글 메뉴</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Moon JinSu</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>tech blog</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">팔로우</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Seoul, Korea</span>
        </li>
      

      
        
          
        
          
        
          
        
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="MVC 기능">
    <meta itemprop="description" content="">
    <meta itemprop="datePublished" content="2023-07-12T00:00:00+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="http://localhost:4000/mvc/Spring_MVC_function/" class="u-url" itemprop="url">MVC 기능
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 분 소요
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
        <p><br /></p>

<h1 id="요청매핑">요청매핑</h1>

<p><code class="language-plaintext highlighter-rouge">@RequestMapping</code></p>

<ul>
  <li>
    <p>@RequestMapping은 파라미터로 URL을 넣을 수 있는데 해당 URL로 호출이 오면 메서드가 실행된다. 여러개의 URL을 배열 형태로 받을 수도 있다.</p>
  </li>
  <li>
    <p>@RequestMapping은 HTTP 메서드를 지정하지 않으면 HTTP 메서드 종류에 상관없이 무조건 호출된다.</p>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">@GetMapping</code>, <code class="language-plaintext highlighter-rouge">@PostMapping</code>, <code class="language-plaintext highlighter-rouge">@PatchMapping</code>, <code class="language-plaintext highlighter-rouge">@DeleteMapping</code> , <code class="language-plaintext highlighter-rouge">@PutMapping</code> 을 사용하면 HTTP 메서드에 따라 호출 여부를 결정하게 할 수 있다.</li>
      <li>@RequestMapping 파라미터에 Method를 직접 지정해서 전달할 수도 있다.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">@RestController</code></p>

<ul>
  <li>@Controller + @ResponseBody 이다.</li>
  <li>원래 @Controller 는 반환값이 String이면 이것을 View 이름으로 인식하고 화면을 랜더링한다.</li>
  <li>@ResponseBody가 있으면 바로 HTTP 메시지 바디로 입력한다.</li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">@PathVariable</code></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/api/{userId}"</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">String</span> <span class="nf">api</span><span class="o">(</span><span class="nd">@PathVariable</span><span class="o">(</span><span class="s">"userId"</span><span class="o">)</span> <span class="nc">String</span> <span class="n">userId</span><span class="o">)</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>@PathVariable의 이름과 파마미터 이름이 같으면 생략할 수 있다.</li>
</ul>

<p><br /><br /><br /></p>

<h1 id="http-요청---정보-조회">HTTP 요청 - 정보 조회</h1>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Slf4j</span>
<span class="nd">@RestController</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyController</span> <span class="o">{</span>
  <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/headers"</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">headers</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">,</span>
                       <span class="nc">HttpMethod</span> <span class="n">httpMethod</span><span class="o">,</span> <span class="nc">Locale</span> <span class="n">locale</span><span class="o">,</span>
                       <span class="nd">@RequestHeader</span> <span class="nc">MultiValueMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;,</span> <span class="n">headerMap</span><span class="o">,</span>
                       <span class="nd">@RequestHeader</span><span class="o">(</span><span class="s">"host"</span><span class="o">)</span> <span class="nc">String</span> <span class="n">host</span><span class="o">,</span> <span class="nd">@CookieValue</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"myCookie"</span><span class="o">,</span> <span class="n">required</span> <span class="o">=</span> <span class="kc">false</span><span class="o">)</span>
                       <span class="nc">String</span> <span class="n">cookie</span><span class="o">){</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">HttpMethod</code> : HTTP Method 종류가 들어있다.</li>
  <li><code class="language-plaintext highlighter-rouge">Locale</code> : Locale 정보를 조회</li>
  <li><code class="language-plaintext highlighter-rouge">@RequestHeader MultiValueMap&lt;String, String&gt; headerMap</code> : 모든 HTTP 헤더를 MultiValueMap 형태로 조회</li>
  <li><code class="language-plaintext highlighter-rouge">@RequestHeader("host") String host</code> : 특정 HTTP 헤더 조회</li>
  <li><code class="language-plaintext highlighter-rouge">Required</code> : 필수값 여부</li>
  <li><code class="language-plaintext highlighter-rouge">@CookieValue(value = "myCookie", required = false) String cookie</code> : 특정 쿠키 조회</li>
</ul>

<p><br /><br /><br /></p>

<h1 id="http-요청-파리미터">HTTP 요청 파리미터</h1>

<p><code class="language-plaintext highlighter-rouge">@RequestParam</code></p>

<ul>
  <li>파라미터 이름으로 간단하게 조회할 수 있음.</li>
  <li>request.getParameter(“parameterName”) 으로 귀찮게 조회하지 않아도 Annotation 하나면 처리된다.</li>
  <li>파라미터 이름과 동일하게 변수명을 지정하면 생략할 수 있다.</li>
  <li>단순 타입이면 생략도 가능하지만 그냥 써주는게 좋다. (생략하게 되면 required=false가 기본적으로 적용된다.)</li>
  <li><code class="language-plaintext highlighter-rouge">required</code>
    <ul>
      <li>필수 파라미터 여부이다.</li>
      <li>기본값은 true이다.</li>
    </ul>
  </li>
  <li>주의점
    <ul>
      <li>/request-param?username= 과 같이 파라미터 이름만 있고 값이 없는 경우 -&gt; 빈문자로 들어온다.</li>
      <li>/request-param 요청, @RequestParam(required = false) int age 와 같이 들어온 경우에 null이 들어왔는데 int에 입력하는 게 불가능하기 때문에 null을 받을 수 있는 <code class="language-plaintext highlighter-rouge">Integer</code> 로 변경하거나, <code class="language-plaintext highlighter-rouge">defaultValue</code> 를 사용해야 한다.</li>
      <li>defaultValue를 설정하면 required 가 의미가 없어진다. 안들어오면 default 값으로 세팅되고 들어오면 들어온 값으로 세팅된다.</li>
    </ul>
  </li>
  <li>동일한 이름으로 여러개의 파라미터가 들어오면 MultiValueMap을 사용하자.</li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">@ModelAttribute</code></p>

<ul>
  <li>요청 파라미터로 들어온 값들을 통해서 객체를 조립한다.
    <ul>
      <li>해당 객체의 setter를 호출해서 값을 채우는 방식이다.</li>
      <li>파라미터 이름이 a이면 setA()메서드를 찾아서 호출한다.</li>
    </ul>
  </li>
  <li>@ModelAttribute 도 생략할 수 있다. 그런데 @RequestParam도 생략이 가능하다. 그러면 어떻게 될까?
    <ul>
      <li>String, int, Integer 값은 단순한 타입은 <code class="language-plaintext highlighter-rouge">@RequestParam</code> 으로 매핑되고 나머지는 <code class="language-plaintext highlighter-rouge">ModelAttribute</code> 로 매핑된다.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<p><br /></p>

<p><br /></p>

<h1 id="http-body로-요청">HTTP Body로 요청</h1>

<p>HTTP body로 요청이 들어온 값은 <code class="language-plaintext highlighter-rouge">@RequestParam</code> 이나 <code class="language-plaintext highlighter-rouge">ModelAttribute</code> 로는 바인딩할 수 없다.</p>

<p><code class="language-plaintext highlighter-rouge">HttpEntity</code></p>

<ul>
  <li>HTTP header, body 정보를 편리하게 조회할 수 있다.</li>
  <li>HTTP 응답에도 사용된다.</li>
  <li><code class="language-plaintext highlighter-rouge">RequestEntity</code>, <code class="language-plaintext highlighter-rouge">ResponseEntity</code> 는 HttpEntity를 상속받아서 기능을 제공한다.
    <ul>
      <li>RequestEntity 는 HttpMethod 와 url 정보를 추가할 수 있고 요청에서 사용된다.</li>
      <li>ResponseEntity 는 HTTP 상태 코드 설정을 할 수 있고, 응답에서 사용된다.</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">@RequestBody</code></p>

<ul>
  <li>@RequestBody를 사용하면 HTTP 메시지 바디 정보를 쉽게 조회할 수 있다.</li>
  <li>헤더 정보가 따로 필요하면 <code class="language-plaintext highlighter-rouge">HttpEntity</code> 를 사용하거나 <code class="language-plaintext highlighter-rouge">@RequestHeader</code>  를 사용하면 된다.</li>
  <li>@RequestBody에 직접 객체를 지정할 수 있다. (메시지 컨버터가 내부적으로 Json 데이터를 객체로 변환해서 넣어준다.)</li>
  <li>@RequestBody는 생략할 수 없다. 생략하면 ModelAttribute가 적용된다.</li>
  <li><code class="language-plaintext highlighter-rouge">주의점</code> : 요청 content-type이 application/json이어야 JSON을 처리할 수 있는 메시지 컨버터가 실행된다.</li>
</ul>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">@ResponseBody</code></p>

<ul>
  <li>@ResponseBody를 사용하면 응답 결과를 HTTP body 메시지에 직접 넣을 수 있다.</li>
  <li>@ResponseBody가 있으면 View Resolver가 실행되지 않는다.</li>
</ul>

<h3 id="정리">정리</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/api"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">api</span><span class="o">(</span><span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
  <span class="n">response</span><span class="o">.</span><span class="na">getWriter</span><span class="o">().</span><span class="na">write</span><span class="o">(</span><span class="s">"ok"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>HttpServletResponse 객체를 통해서 HTTP 메시지 body에 ok라는 응답 메시지를 전달</li>
</ul>

<p><br /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/api"</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">api</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="s">"ok"</span><span class="o">,</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ResponseEntity는 HttpEntity를 상속받아서 헤더, 바디 정보를 가지고 있다. 여기서 추가로 HTTP 응답 코드를 설정할 수 있다.</li>
</ul>

<p><br /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ResponseBody</span>
<span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/api"</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">String</span> <span class="nf">api</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="s">"ok"</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>@ResponseBody가 붙으면 View Resolver가 호출되지 않고 HTTP 컨버터를 통해서 HTTP 메시지를 직접 입력할 수 있다. ResponseEntity도 동일하게 메시지 컨버터가 적용된다.</li>
</ul>

<p><br /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/api"</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">MyObject</span><span class="o">&gt;</span> <span class="nf">api</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">MyObject</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyObject</span><span class="o">();</span>
  <span class="n">obj</span><span class="o">.</span><span class="na">setA</span><span class="o">(</span><span class="s">"A"</span><span class="o">);</span>
  <span class="n">obj</span><span class="o">.</span><span class="na">setB</span><span class="o">(</span><span class="mi">20</span><span class="o">);</span>
  
  <span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="n">obj</span><span class="o">,</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>HTTP 메시지 컨버터가 동작하고 JSON 형태로 객체가 변환되서 나간다.</li>
</ul>

<p><br /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ResponseStatus</span><span class="o">(</span><span class="nc">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">)</span>
<span class="nd">@ResponseBody</span>
<span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/api"</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">MyObj</span> <span class="nf">api</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">MyObj</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyObj</span><span class="o">();</span>
  <span class="n">obj</span><span class="o">.</span><span class="na">setA</span><span class="o">(</span><span class="s">"A"</span><span class="o">);</span>
  <span class="n">obj</span><span class="o">.</span><span class="na">setB</span><span class="o">(</span><span class="mi">20</span><span class="o">);</span>
  
  <span class="k">return</span> <span class="n">obj</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>@ResponseStatus Annotation을 사용해서 응답 코드를 설정할 수 있다.</li>
</ul>

<p><br /></p>

<p><br /></p>

<p><br /></p>

<h1 id="http-메시지-컨버터">HTTP 메시지 컨버터</h1>

<p>JSON 데이터를 HTTP 메시지 바디에서 읽거나 쓰는 경우에는 HTTP 메시지 컨버터가 작동한다.</p>

<p><img src="/assets/images/17_1.png" alt="img1" width="70%&quot;&quot;, height=&quot;40%&quot;" /></p>

<ul>
  <li>스프링은 HTTP 요청, 응답에서 @RequestBody, @ResponseBody를 사용하면 HTTP 메시지 컨버터가 작동한다.</li>
  <li>HTTP 메시지 컨버터는 요청, 응답에 모두 사용되고 클래스와 미디어타입을 체크해서 적절하게 처리한다.</li>
</ul>

<p><br /></p>

<p><strong>스프링 부트 기본 메시지 컨버터</strong></p>

<p>0 = ByteArrayMessageConverter</p>

<ul>
  <li>MediaType : * / *</li>
  <li>classType : byte[]</li>
</ul>

<p>1 = StringHttpMessageConverter</p>

<ul>
  <li>MediaType : * / *</li>
  <li>classType : String</li>
</ul>

<p>2 = MappingJackson2HttpMessageConverter</p>

<ul>
  <li>MediaType : application/json</li>
  <li>classType : 객체, HashMap</li>
</ul>

<p><br /></p>

<p>예제로 확인해보자</p>

<h4 id="stringhttpmessageconverter">StringHttpMessageConverter</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//content-type: application/json</span>
 
<span class="nd">@RequestMapping</span>
<span class="kt">void</span> <span class="nf">api</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">String</span> <span class="n">data</span><span class="o">)</span> <span class="o">{}</span>
</code></pre></div></div>

<p>Media-Type 이 application/json으로 들어오고 class type 이 String인 경우</p>

<ol>
  <li>Converter 우선순위가 가장 높은 ByteArrayMessageConverter가 먼저 실행되는데 class Type이 byte가 아니기 때문에 통과된다.</li>
  <li>다음으로 StringHttpMessageConverter가 실행되는데 모든 미디어 타입을 처리하고 classType이 String이기 때문에 여기서 처리된다.</li>
</ol>

<p><br /></p>

<h4 id="mappingjakson2httpmessageconverter">MappingJakson2HttpMessageConverter</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//content-type: application/json</span>

<span class="nd">@RequestMapping</span>
<span class="kt">void</span> <span class="nf">api</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">MyObj</span> <span class="n">data</span><span class="o">)</span> <span class="o">{}</span>
</code></pre></div></div>

<p>Media-Type 이 application/json으로 들어오고 class type 이 객체인 경우</p>

<ol>
  <li>ByteArrayMessageConverter 가 실행되는데 class-type이 객체라서 통과</li>
  <li>StirngHttpMessageConverter가 실행되는데 마찬가지로 class-Type이 객체라서 통과</li>
  <li>MappingJakson2HttpMessageConverter가 실행된다. (Media-Type이 일치하고 객체가 들어오기 때문에)</li>
</ol>

<p><br /></p>

<h4 id="실패">실패</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//content-type: text/html</span>

<span class="nd">@RequestMapping</span>
<span class="kt">void</span> <span class="nf">hello</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">MyObj</span> <span class="n">data</span><span class="o">)</span> <span class="o">{}</span>
</code></pre></div></div>

<p>Media_Type 이 text/html으로 들어오고 class type이 객체인 경우</p>

<ol>
  <li>ByteArrayMessageConverter가 실행되는데 class-Type이 객체라서 패스</li>
  <li>StringHttpMessageConverter가 실행되는데 class-Type이 객체라서 패스</li>
  <li>MappingJakson2HttpMessageConverter가 실행되는데 Media-Type 불일치로 패스</li>
  <li><code class="language-plaintext highlighter-rouge">Fail</code></li>
</ol>

<p><br /></p>

<p><br /></p>

<p><br /></p>

<h1 id="requestmappinghandleradapter-구조">RequestMappingHandlerAdapter 구조</h1>

<p><img src="/assets/images/17_2.png" alt="img2" width="70%&quot;&quot;, height=&quot;40%&quot;" /></p>

<p><code class="language-plaintext highlighter-rouge">ArgumentResolver</code> 에 대해서 자세히 알아보자.</p>

<p>Annotation 기반의 컨트롤러는 다양한 파라미터를 제공한다. HttpServlet, Model, @ReqeustParam, @ModelAttribute, @RequestBody, HttpEntity 등등 정말 많은 파라미터를 제공하는데 이걸 누가 넣어줄까?</p>

<p>정답은 ArgumentResolver가 넣어준다.</p>

<p><code class="language-plaintext highlighter-rouge">RequestMappingHanlderAdapter</code> 는 <code class="language-plaintext highlighter-rouge">ArgumentResolver</code> 를 호출해서 컨트롤러에 필요한 파라미터 값을 채우고 나서 컨트롤러를 호출한다.</p>

<p>동작 방식은 다음과 같다.</p>

<p><code class="language-plaintext highlighter-rouge">ArgumentResolver</code> 에서 컨트롤러에 필요한 파라미터를 지원하는지 체크하고 지원한다면 객체를 생성해서 어댑터로 넘긴다. 어댑터는 이 파라미터를 가지고 컨트롤러를 호출한다.</p>

<p><code class="language-plaintext highlighter-rouge">ReturnValueHandler</code> 도 거의 비슷하게 작동한다. 컨트롤러의 반환값은 정말 다양하다. @ModelAndView, @ResponseBody, HttpEnttiy, String 등 정말 많은데 이것들을 잘 체크해서 응답값을 변환하고 처리한다.</p>

<p><br /></p>

<p><br /></p>

<p><br /></p>

<h4 id="그렇다면-http-메시지-컨버터는-어디에-존재할까">그렇다면 HTTP 메시지 컨버터는 어디에 존재할까?</h4>

<p><img src="/assets/images/17_3.png" alt="img3" width="70%&quot;&quot;, height=&quot;40%&quot;" /></p>

<p>HTTP 메시지 컨버터는 <code class="language-plaintext highlighter-rouge">ArgumentResolver</code> 와 <code class="language-plaintext highlighter-rouge">ReturnValueHandler</code>  가 사용한다.</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> 태그: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#mvc" class="page__taxonomy-item p-category" rel="tag">MVC</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> 카테고리: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#mvc" class="page__taxonomy-item p-category" rel="tag">MVC</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 업데이트:</strong> <time class="dt-published" datetime="2023-07-12T00:00:00+09:00">July 12, 2023</time></p>

      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">공유하기</h4>
  

  <a href="https://twitter.com/intent/tweet?text=MVC+%EA%B8%B0%EB%8A%A5%20http%3A%2F%2Flocalhost%3A4000%2Fmvc%2FSpring_MVC_function%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fmvc%2FSpring_MVC_function%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fmvc%2FSpring_MVC_function%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/mvc/MVC_Structure/" class="pagination--pager" title="MVC 구조
">이전</a>
    
    
      <a href="#" class="pagination--pager disabled">다음</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">참고</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/mvc/MVC_Structure/" rel="permalink">MVC 구조
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">스프링 MVC 구조
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/cs/Proxy/" rel="permalink">프록시 패턴
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/cs/Observer/" rel="permalink">옵저버 패턴
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/cs/Strategy/" rel="permalink">전략 패턴
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
Strategy pattern

  객체의 행위를 바꾸고 싶은 경우 직접 수정하지 않고 전략이라고 부르는 캡슐화한 알고리즘을 컨텍스트 안에서 바꿔주면서 상호 교체가 가능하게 만드는 패턴이다.
  특정 컨텍스트에서 알고리즘을 별도로 분리하는 설계 방법을 의미한다.
  쉽게 말해서 ...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>팔로우:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> 피드</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 문진수(Moon JinSu). Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
