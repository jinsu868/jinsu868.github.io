<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Network] 보안 - Jinsu’s story</title>
<meta name="description" content="">


  <meta name="author" content="Moon JinSu">
  
  <meta property="article:author" content="Moon JinSu">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="Jinsu's story">
<meta property="og:title" content="[Network] 보안">
<meta property="og:url" content="http://localhost:4000/network/44/">


  <meta property="og:description" content="">







  <meta property="article:published_time" content="2023-11-05T00:00:00+09:00">





  

  


<link rel="canonical" href="http://localhost:4000/network/44/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "문진수(Moon JinSu)",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Jinsu's story Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Jinsu's story
          
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">토글 메뉴</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Moon JinSu</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>tech blog</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">팔로우</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Seoul, Korea</span>
        </li>
      

      
        
          
            <li><a href="mailto:mjinsu098@gmail.com" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="https://github.com/jinsu868" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->

<!-- Categories -->
<nav class="nav__list">
  <ul class="nav__items" id="category_tag_menu">
      <li>
          <span class="nav__sub-title">📂 Total (68)</span>
          <ul>
              
                  
                  <li>
                      <a href="/categories/#spring" class="">Spring (17)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#디자인패턴" class="">디자인패턴 (14)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#java" class="">Java (3)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#알고리즘" class="">알고리즘 (2)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#jpa" class="">JPA (7)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#데이터베이스" class="">데이터베이스 (4)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#network" class="">Network (5)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#클린코드" class="">클린코드 (1)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#git" class="">git (1)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#우테코" class="">우테코 (1)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#테스트" class="">테스트 (2)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#devops" class="">DevOps (2)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#운영체제" class="">운영체제 (7)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#프로젝트" class="">프로젝트 (6)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#talk-talk" class="">talk-talk (1)</a>
                  </li>
                  
              
          </ul>
      </li>
  </ul>
  </nav>

    </ul>
  </div>
</div>

  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[Network] 보안">
    <meta itemprop="description" content="">
    <meta itemprop="datePublished" content="2023-11-05T00:00:00+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="http://localhost:4000/network/44/" class="u-url" itemprop="url">[Network] 보안
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 분 소요
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On This Page</h4></header>
              <ul class="toc__menu"><li><a href="#안전한-통신">안전한 통신</a><ul><li><a href="#기밀성">기밀성</a></li><li><a href="#메시지-무결성">메시지 무결성</a></li><li><a href="#종단점-인증">종단점 인증</a></li><li><a href="#운영-보안">운영 보안</a></li></ul></li><li><a href="#암호학">암호학</a><ul><li><a href="#암호화-구성요소">암호화 구성요소</a><ul><li><a href="#평문">평문</a></li><li><a href="#암호문">암호문</a></li><li><a href="#키">키</a></li></ul></li><li><a href="#대칭키-시스템">대칭키 시스템</a></li><li><a href="#공개키-시스템">공개키 시스템</a><ul><li><a href="#방식">방식</a></li><li><a href="#흐름">흐름</a></li></ul></li><li><a href="#rsa">RSA</a><ul><li><a href="#흐름-1">흐름</a></li></ul></li><li><a href="#블록-암호화">블록 암호화</a><ul><li><a href="#문제점">문제점</a></li><li><a href="#cbc-cipher-block-chaning">CBC (Cipher Block Chaning)</a></li></ul></li><li><a href="#메시지-무결성-1">메시지 무결성</a><ul><li><a href="#메시지-인증">메시지 인증</a></li><li><a href="#해시-함수">해시 함수</a></li><li><a href="#메시지-인증-코드-mac">메시지 인증 코드 (MAC)</a></li></ul></li><li><a href="#전자-서명">전자 서명</a><ul><li><a href="#흐름-2">흐름</a></li><li><a href="#특징">특징</a></li><li><a href="#해시-함수-사용-흐름">해시 함수 사용 흐름</a></li></ul></li><li><a href="#공개키-인증">공개키 인증</a><ul><li><a href="#흐름-3">흐름</a></li></ul></li><li><a href="#종단점-인증-1">종단점 인증</a><ul><li><a href="#흐름-4">흐름</a></li></ul></li><li><a href="#layer5-에서-제공하는-보안-서비스">Layer5 에서 제공하는 보안 서비스</a><ul><li><a href="#전자메일">전자메일</a><ul><li><a href="#기밀성-1">기밀성</a><ul><li><a href="#흐름-5">흐름</a></li><li><a href="#송신자-인증--메시지-무결성">송신자 인증 &amp; 메시지 무결성</a></li><li><a href="#흐름-6">흐름</a></li></ul></li></ul></li></ul></li><li><a href="#layer4-에서-제공하는-보안-서비스">Layer4 에서 제공하는 보안 서비스</a><ul><li><a href="#tls-transport-layer-security">TLS (Transport Layer Security)</a></li><li><a href="#핸드셰이크">핸드셰이크</a></li><li><a href="#흐름-7">흐름</a></li><li><a href="#연결-종료">연결 종료</a></li></ul></li><li><a href="#layer3-에서-제공하는-보안-서비스">Layer3 에서 제공하는 보안 서비스</a><ul><li><a href="#ipsec">IPsec</a><ul><li><a href="#특징-1">특징</a></li><li><a href="#esp-프로토콜">ESP 프로토콜</a></li><li><a href="#sa">SA</a></li></ul></li><li><a href="#ipsec-데이터그램">IPsec 데이터그램</a></li></ul></li><li><a href="#방화벽">방화벽</a><ul><li><a href="#역할">역할</a></li></ul></li></ul></li><li><a href="#참고">참고</a></li></ul>

            </nav>
          </aside>
        
        <p><br /></p>

<p><img src="/assets/images/44_15.png" alt="img1" width="90%&quot;&quot;, height=&quot;40%&quot;" /> <br /></p>

<p>오늘은 지난 시간에 이어서 네트워크 보안에 대해서 정리하겠다. 본 게시글은 <code class="language-plaintext highlighter-rouge">컴퓨터 네트워킹 하향식 접근 (제8판)</code>을 토대로 작성됐다.<br />
<br /></p>

<h1 id="안전한-통신">안전한 통신</h1>

<h2 id="기밀성">기밀성</h2>

<p>송신자와 지정된 수신자만이 전송되는 메시지의 내용을 이해할 수 있어야 한다.</p>

<p>메시지를 어떠한 방식으로든 <code class="language-plaintext highlighter-rouge">암호화</code>해야 한다.</p>

<h2 id="메시지-무결성">메시지 무결성</h2>

<p>전송중에 메시지의 내용이 변하지 않아야 한다.</p>

<h2 id="종단점-인증">종단점 인증</h2>

<p>송신자와 수신자는 상대방이 실제로 누구인지 신원을 확인할 수 있어야 한다.</p>

<h2 id="운영-보안">운영 보안</h2>

<p>대부분의 기관은 공용 네트워크에 연결되어있기 때문에 공격에 노출될 수 있다.</p>

<p>이를 막기 위해 기관 네트워크와 공공 네트워크 사이에 방화벽을 설치하고 드나드는 패킷을 제어할 수 있어야 한다.</p>

<hr />

<h1 id="암호학">암호학</h1>

<h2 id="암호화-구성요소">암호화 구성요소</h2>

<h3 id="평문">평문</h3>

<p>송신자가 보내려는 원래 형태의 메시지를 <strong>평문</strong>이라고 한다.</p>

<h3 id="암호문">암호문</h3>

<p>그리고 이를 암호화 알고리즘을 사용하여 만든 메시지를 <strong>암호문</strong>이라고 한다.</p>

<h3 id="키">키</h3>

<p>이 암호화 알고리즘은 누구에게나 다 알려져 있다.</p>

<p>때문에 전송한 데이터를 중간에서 가로채서 복원할 수 없도록 해주는 장치가 필요한데 이것이 <code class="language-plaintext highlighter-rouge">키</code> 이다.</p>

<p><strong>→ 평문을 암호문으로 바꿈으로서 <code class="language-plaintext highlighter-rouge">기밀성</code>을 실현한다.</strong></p>

<h2 id="대칭키-시스템">대칭키 시스템</h2>

<p><img src="/assets/images/44_1.png" alt="img1" width="90%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<ol>
  <li>Alice가 키(A)를 이용해서 평문을 암호화해서 밥에게 보낸다.</li>
  <li>Bob은 키(B)를 사용해서 암호문을 복호화하여 평문으로 복원한다.</li>
  <li>키는 Alice와 Bob만 가지고 있고 있기 때문에 Trudy가 중간에서 메시지를 가로채도 평문으로 복원할 방법이 없다.</li>
</ol>

<p>위 시나리오에서 Alice와 Bob이 동일한 키(A)를 가지고 암호화, 복호화를 한다면 이것은 <code class="language-plaintext highlighter-rouge">대칭키</code>를 이용하는 방식이다.<br />
여기서 키(A)는 통신하고 있는 송수신자 이외에는 알 수 없다.</p>

<h2 id="공개키-시스템">공개키 시스템</h2>

<p><img src="/assets/images/44_2.png" alt="img1" width="90%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<h3 id="방식">방식</h3>

<p>모두에게 공개하는 키(공개키, K+)와 자기 자신만 가지는 키(개인키, K-)를 사용하는 방식이다.</p>

<h3 id="흐름">흐름</h3>

<ol>
  <li>송신자는 수신자의 공개키(K+)로 암호문을 생성해서 송신한다.</li>
  <li>수신자는 자신의 개인키(K-)로 암호문을 복호화한다.</li>
</ol>

<h2 id="rsa">RSA</h2>

<p>모듈러 연산의 성질을 이용한 알고리즘인데 자세한 내용은 생략한다.</p>

<p>공개키 암호화와 거의 동의어로 사용된다.</p>

<p>RSA는 종종 대칭키 암호화와 같이 사용되는데 이때 사용되는 키가 <code class="language-plaintext highlighter-rouge">세션키</code>이다.</p>

<p>여기서 <code class="language-plaintext highlighter-rouge">세션키</code>는 대칭키 암호화에 사용되는 키이다.</p>

<h3 id="흐름-1">흐름</h3>

<ol>
  <li>송신자가 세션키를 수신자의 공개키로 암호화하고 전송한다.</li>
  <li>수신자는 자신의 개인키로 암호문을 복호화하여 세션키를 얻는다.</li>
</ol>

<p>→ 이를 통해 안전하게 <code class="language-plaintext highlighter-rouge">세션키</code>를 상대방에게 배포할 수 있다.</p>

<h2 id="블록-암호화">블록 암호화</h2>

<p><strong>블록 암호화</strong>는 <code class="language-plaintext highlighter-rouge">PGP</code>, <code class="language-plaintext highlighter-rouge">TLS</code>, <code class="language-plaintext highlighter-rouge">IPsec</code> 에 자주 사용되는 방식으로서 메시지를 K비트의 블록 단위로 쪼개서 암호화한다.</p>

<h3 id="문제점">문제점</h3>

<p>이 방식은 <code class="language-plaintext highlighter-rouge">2^k</code> 만큼의 테이블을 유지해야 하기 때문에 K가 크다면 사용할 수 없다.</p>

<p>블록 암호화는 평문 블록이 동일하다면 동일한 암호문을 생성한다. 때문에 공격자가 이를 해독할 여지가 있다.</p>

<h3 id="cbc-cipher-block-chaning">CBC (Cipher Block Chaning)</h3>

<p>블록 암호화의 문제를 해결하기 위한 방법 중 하나로 송신자가 처음에 초기화 백터라 불리는 임의의 비트열을 생성해서 수신자에게 보낸다.</p>

<p>수신자는 이를 이용해서 블록 C1~Cn까지 암호화를 수행한다.</p>

<p>여기서 Cn을 암호화할 때, Cn-1의 값과 초기화 백터값이 사용된다.</p>

<p>CBC를 사용하면 송신할때마다 초기화 백터가 다르기 때문에 같은 평문에 대해서 다른 암호문이 도출된다.</p>

<h2 id="메시지-무결성-1">메시지 무결성</h2>

<h3 id="메시지-인증">메시지 인증</h3>

<p>메시지가 정말 해당 송신자로부터 온 것인가?</p>

<p>메시지가 나한테 전달되는 과정에서 변경되지 않았는가?</p>

<p>→ 이 두가지를 만족시켜야 한다.</p>

<h3 id="해시-함수">해시 함수</h3>

<ul>
  <li>해시 함수는 메시지 m을 입력값으로 받아서 고정된 크기의 문자열 H(m)을 도출한다.</li>
  <li>메시지 m을 해시값으로 넣었을 때 생성되는 해시값 H(m)과 같은 해시값을 만들어내는 H(m`)을 찾는 것이 산술적으로 불가능(시간상)해야 한다.</li>
</ul>

<h3 id="메시지-인증-코드-mac">메시지 인증 코드 (MAC)</h3>

<p><img src="/assets/images/44_3.png" alt="img1" width="90%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<p>단순히 해시 함수를 통해서 (m, H(m))을 생성해서 보내는 것은 누구나 할 수 있다.</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Alice</code>도 보낼 수 있고, <code class="language-plaintext highlighter-rouge">Trudy</code>가 <code class="language-plaintext highlighter-rouge">Alice</code>인척 보낼 수도 있다.
MAC 에서는 송수신자가 비밀키(s)를 공유하여 해시값을 계산할 때, 메시지에 s를 붙인다.</li>
  <li>(m, H(m+s)) ← 송신할 때 이렇게 보낸다.</li>
  <li>비밀키 s는 송수신자만 공유하기 때문에 중간에 공격가 <code class="language-plaintext highlighter-rouge">Trudy</code>가 메시지(m)을 갈아껴서 (m’, H(m’))을 보내도 수신자는 H(m’) ≠ H(m’+s)이기 때문에 이상을 감지할 수 있다.</li>
</ul>

<h2 id="전자-서명">전자 서명</h2>

<p>문서의 소유자 또는 작성자를 명시하거나 어떤 사람이 문서 내용에 동의했다는 것을 표시할 때 사용한다.</p>

<p><strong>서명자를 입증</strong>할 수 있어야 하고 <strong>위조할 수 없어야 한다.</strong></p>

<p>공개키 암호화 방법이 사용된다.</p>

<h3 id="흐름-2">흐름</h3>

<ol>
  <li>자신의 개인키로 문서나 메시지 m을 암호화한다. → K-(m)</li>
  <li>네트워크상에서 K-(m)을 받은 사람들은 송신자의 공개키 K+를 사용해서 복호화한다.</li>
</ol>

<h3 id="특징">특징</h3>

<p>송신자의 개인키(K-)를 통해서만 서명할 수 있기 때문에 위조가 불가능하다. 때문에 내가 나임을 증명할 수 있다.</p>
<ul>
  <li>공격자 <code class="language-plaintext highlighter-rouge">Trudy</code>가 메시지를 조작해서 m`을 만들어도 수신자는 바로 이상을 감지할 수 있다.</li>
</ul>

<p>메시지 m은 길어질 수 있고 m에 바로 복호화, 암호화를 하게 되면 계산량이 늘어난다.</p>
<ul>
  <li>해시 함수를 사용해서 m의 길이를 <strong>고정길이 해시값</strong>으로 변환해서 암호화한다.</li>
</ul>

<p><img src="/assets/images/44_4.png" alt="img1" width="90%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<h3 id="해시-함수-사용-흐름">해시 함수 사용 흐름</h3>

<ol>
  <li>메시지를 해시 함수에 넣어서 해시값 H(m)을 생성한다.</li>
  <li>H(m)을 개인키 K-로 암호화해서 보낸다. → (m, K-(H(m)))
    <ul>
      <li>수신자에게는 (m, h)로 보인다.</li>
    </ul>
  </li>
  <li>수신자는 h값을 k+로 복호화하고 H(m)값과 비교한다.</li>
</ol>

<h2 id="공개키-인증">공개키 인증</h2>

<p><img src="/assets/images/44_5.png" alt="img1" width="90%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<p>위와 같이 <code class="language-plaintext highlighter-rouge">Trudy</code>가 자신의 개인키(K-)를 사용해서 <code class="language-plaintext highlighter-rouge">Bob</code>이 피자를 주문한다는 메시지를 암호화한 후 (m’, K-(H(m’)))을 <code class="language-plaintext highlighter-rouge">Alice(피자집)</code>에 보낸 경우를 생각해보자.</p>

<p><code class="language-plaintext highlighter-rouge">Alice</code>는 <code class="language-plaintext highlighter-rouge">Trudy</code>의 공개키를 통해서 메시지를 복호화할 것이고 메시지의 내용이 위조가 없음을 판단할 것이다.</p>

<p>그리고 주문하지 않은 <code class="language-plaintext highlighter-rouge">Bob</code>에게 피자를 보낼 것이다.(ㅜㅜ)</p>

<p>→ 이를 막기 위해서는 서명자의 공개키라고 생각되는 것이 정말 서명자의 것인지 알 수 있어야 하고 이를 <code class="language-plaintext highlighter-rouge">CA</code>가 해준다.</p>

<p><img src="/assets/images/44_6.png" alt="img1" width="90%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<p>공개키가 누구의 것인지 보증하는 일을 <code class="language-plaintext highlighter-rouge">CA</code>에서 담당한다.</p>

<h3 id="흐름-3">흐름</h3>

<ol>
  <li><code class="language-plaintext highlighter-rouge">Bob</code>이 자신의 공개키를 들고 <code class="language-plaintext highlighter-rouge">CA</code>에게 인증을 요구한다.</li>
  <li><code class="language-plaintext highlighter-rouge">CA</code>가 적절하게 검증을 해준다.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Bob은</code> 전적으로 <code class="language-plaintext highlighter-rouge">CA</code>의 검증을 신뢰해야 한다.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">CA</code>는 공개키와 신분 확인서를 결합한 인증서를 <code class="language-plaintext highlighter-rouge">Bob</code>에게 준다.</li>
</ol>

<p>→ 다음 통신부터는 <code class="language-plaintext highlighter-rouge">인증서</code>와 메시지를 같이 암호화하여 보냄으로서 신원을 보증할 수 있다.</p>

<h2 id="종단점-인증-1">종단점 인증</h2>

<p><img src="/assets/images/44_7.png" alt="img1" width="70%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<ul>
  <li>대칭키와 <code class="language-plaintext highlighter-rouge">넌스</code>를 동시에 사용하면 종단점 인증을 할 수 있다.</li>
</ul>

<h3 id="흐름-4">흐름</h3>

<ol>
  <li><code class="language-plaintext highlighter-rouge">Alice</code>는 메시지를 <code class="language-plaintext highlighter-rouge">Bob</code>에게 보낸다.</li>
  <li><code class="language-plaintext highlighter-rouge">Bob</code>은 넌스 R을 생성하고 이것을 <code class="language-plaintext highlighter-rouge">Alice</code>에게 보낸다.</li>
  <li><code class="language-plaintext highlighter-rouge">Alice</code>는 <code class="language-plaintext highlighter-rouge">Bob</code>과 공유하는 대칭키를 사용하여 넌스 R을 암호화하고 <code class="language-plaintext highlighter-rouge">Bob</code>에게 다시 보낸다.</li>
  <li><code class="language-plaintext highlighter-rouge">Bob</code>은 이 값을 복호화하고 지금 통신하는 주체가 <code class="language-plaintext highlighter-rouge">Alice</code>임을 확인할 수 있다.</li>
</ol>

<hr />

<h2 id="layer5-에서-제공하는-보안-서비스">Layer5 에서 제공하는 보안 서비스</h2>

<h3 id="전자메일">전자메일</h3>

<h4 id="기밀성-1">기밀성</h4>

<p><img src="/assets/images/44_8.png" alt="img1" width="90%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<h5 id="흐름-5">흐름</h5>

<ol>
  <li><code class="language-plaintext highlighter-rouge">Alice</code>는 대칭 세션키(Ks)를 선택한다.</li>
  <li>Ks로 m을 암호화하고, <code class="language-plaintext highlighter-rouge">Bob</code>의 공개키 (K+B)로 Ks를 암호화한 쌍을 <code class="language-plaintext highlighter-rouge">Bob</code>에게 전송한다.
    <ul>
      <li>(K+B(Ks), Ks(m))</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Bob</code>은 자신의 개인키로 세션키(Ks)를 얻고 Ks로 메시지를 복호화한다.</li>
</ol>

<p>→ 이를 통해서 메시지의 <code class="language-plaintext highlighter-rouge">기밀성</code>을 충족시킬 수 있다. (<code class="language-plaintext highlighter-rouge">Bob</code>만이 메시지를 열람할 수 있음.)</p>

<h5 id="송신자-인증--메시지-무결성">송신자 인증 &amp; 메시지 무결성</h5>

<p><img src="/assets/images/44_9.png" alt="img1" width="90%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">Alice</code>는 m를 해시 함수에 넣어서 해시값 H(m)을 얻는다.</li>
  <li>H(m)을 자신의 개인키로 암호화한다. (전자서명)</li>
  <li>이를 <code class="language-plaintext highlighter-rouge">Bob</code>에게 전송하고 <code class="language-plaintext highlighter-rouge">Bob</code>은 이를 수신하여 <code class="language-plaintext highlighter-rouge">Alice</code>의 공개키로 복호화한다.</li>
  <li>복호화한 결과가 메시지m과 동일하면 메시지의 <code class="language-plaintext highlighter-rouge">무결성</code>이 확인된다.</li>
</ol>

<p>→ 전자서명을 통해서 <code class="language-plaintext highlighter-rouge">송신자를 인증</code>할 수 있다.</p>

<p>위의 두 가지를 합치면 <code class="language-plaintext highlighter-rouge">기밀성</code>, <code class="language-plaintext highlighter-rouge">무결성</code>, <code class="language-plaintext highlighter-rouge">송신자 인증</code>을 만족시킬 수 있다.</p>

<p><img src="/assets/images/44_10.png" alt="img1" width="90%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<h5 id="흐름-6">흐름</h5>

<ol>
  <li><code class="language-plaintext highlighter-rouge">Alice</code>는 m과 m을 자신의 개인키로 암호화한 쌍을 하나의 값으로 묶는다.</li>
  <li>이 값을 세션키(Ks)로 한번 더 암호화한다.</li>
  <li>그리고 세션키(Ks)는 수신자의 공개키로 암호화한다.</li>
  <li>이 두 쌍을 묶어서 전송한다.
    <ul>
      <li>(Ks(K-A(H(m), m), K+b(K(s))</li>
    </ul>
  </li>
</ol>

<p>→ 수신자는 <code class="language-plaintext highlighter-rouge">Alice</code>의 공개키를 알아야 하는데 이는 <code class="language-plaintext highlighter-rouge">CA</code>를 통해서 인증을 받는다.</p>

<h2 id="layer4-에서-제공하는-보안-서비스">Layer4 에서 제공하는 보안 서비스</h2>

<h3 id="tls-transport-layer-security">TLS (Transport Layer Security)</h3>

<p><code class="language-plaintext highlighter-rouge">기밀성</code>, <code class="language-plaintext highlighter-rouge">무결성</code>, <code class="language-plaintext highlighter-rouge">서버인증</code>, <code class="language-plaintext highlighter-rouge">클라이언트 인증</code>을 제공한다.</p>

<h3 id="핸드셰이크">핸드셰이크</h3>

<p><img src="/assets/images/44_11.png" alt="img1" width="70%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<p>위 흐름은 약식 TLS 핸드셰이크 과정이다.</p>

<h3 id="흐름-7">흐름</h3>

<ol>
  <li><code class="language-plaintext highlighter-rouge">클라이언트(Bob)</code>은 넌스와 함께 자신이 지원하는 암호화 알고리즘을 <code class="language-plaintext highlighter-rouge">서버(Alice)</code>에 보낸다.
    <ul>
      <li>넌스를 사용하는 이유는 메시지에 유일성이 생기기 때문에 동일한 메시지를 공격자가 서버에 보내도 구분할 수 있다.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">서버(Alice)</code>는 대칭키, 공개키, HMAC 알고리즘과 HMAC 키를 선택하고 이를 서버 넌스와 인증서와 함께 <code class="language-plaintext highlighter-rouge">클라이언트(Bob)</code>에게 보낸다.</li>
  <li><code class="language-plaintext highlighter-rouge">클라이언트(Bob)</code>은 서버의 공개키를 알아내고 PMS를 생성한다. 그리고 PMS를 <code class="language-plaintext highlighter-rouge">서버(Alice)</code>의 공개키로 암호화하고 <code class="language-plaintext highlighter-rouge">서버(Alice)</code>로 보낸다.</li>
  <li>클라이언트, 서버는 동일한 키 유도 함수를 사용하여 PMS와 넌스로부터 MS를 계산한다.</li>
  <li>MS는 2개의 암호화 키와 2개의 HMAC 키를 생성하기 위해 분할된다.</li>
  <li>이후부터 모든 메시지는 암호화되고 인증된다. (HMAC에 의해)
    <ul>
      <li>클라이언트, 서버의 모든 핸드셰이크 메시지의 HMAC을 전송한다.</li>
    </ul>
  </li>
</ol>

<h3 id="연결-종료">연결 종료</h3>

<p>레코드의 타입 필드에 TLS 세션을 종료할 것인지 표시해야 한다.</p>
<ul>
  <li>이렇게 하지 않으면 공격자로부터 <code class="language-plaintext highlighter-rouge">절단 공격</code>을 받을 수 있다.</li>
  <li>공격자가 중간에서 TCP FIN을 보내는 것을 <code class="language-plaintext highlighter-rouge">절단 공격</code>이라고 한다.</li>
</ul>

<h2 id="layer3-에서-제공하는-보안-서비스">Layer3 에서 제공하는 보안 서비스</h2>

<p><code class="language-plaintext highlighter-rouge">기밀성</code>, <code class="language-plaintext highlighter-rouge">메시지 무결성</code>, <code class="language-plaintext highlighter-rouge">송신자 인증</code>을 제공한다.</p>

<h3 id="ipsec">IPsec</h3>

<p><img src="/assets/images/44_12.png" alt="img1" width="90%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<h4 id="특징-1">특징</h4>

<p>호스트간 안전하고 <code class="language-plaintext highlighter-rouge">기밀성</code>이 보장된 통신을 제공한다.</p>

<p>기존에는 사설 네트워크를 설치해서 이를 실현했는데 비용이 많이들기 때문에 요즘에는 공공 네트워크 상에 VPN을 설치한다.</p>

<p>공공 인터넷에 접근하기 직전에 IPsec으로 데이터그램을 바꾸고 진입한다.</p>
<ul>
  <li>IPsec도 IPv4의 헤더를 가지기 때문에 라우터는 이 둘을 구분하지 못한다.</li>
</ul>

<h4 id="esp-프로토콜">ESP 프로토콜</h4>

<p><code class="language-plaintext highlighter-rouge">기밀성</code>, <code class="language-plaintext highlighter-rouge">데이터 무결성</code>을 제공한다.</p>

<p>AH프로토콜도 있는데 기밀성을 제공하지 못하기 때문에 ESP가 주로 사용된다.</p>

<h4 id="sa">SA</h4>

<p>송신지와 수신지는 IPsec 데이터그램을 전송하기 전에 둘 사이에 논리적 연결을 설립한다.</p>
<ul>
  <li>이를 <code class="language-plaintext highlighter-rouge">SA(security association)</code>라고 한다.</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">SA</code>는 단방향이라서 양방향으로 데이터를 전송하기 위해서는 2개의 <code class="language-plaintext highlighter-rouge">SA</code>를 설립해야 한다.</p>

<h3 id="ipsec-데이터그램">IPsec 데이터그램</h3>

<p><img src="/assets/images/44_13.png" alt="img1" width="90%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<hr />

<h2 id="방화벽">방화벽</h2>

<p><img src="/assets/images/44_14.png" alt="img1" width="80%&quot;&quot;, height=&quot;40%&quot;" /> <br /><br /></p>

<p>전체 인터넷으로부터 기관의 내부 네트워크를 분리시킨 하드웨어와 소프트웨어의 조합으로, 어떤 패킷은 통과가 허용되나 어떤 패킷은 차단된다.</p>

<p>쉽게 말하면 공공 네트워크와 기관 내부 네트워크 사이에서 패킷을 필터링하는 역할을 수행한다.</p>

<h3 id="역할">역할</h3>

<p>공공 네트워크와 기관 네트워크를 지나는 모든 트래픽은 방화벽을 거친다.</p>

<p>기관 네트워크의 정책에 허용된 트래픽만 방화벽을 통과할 수 있다.</p>

<h1 id="참고">참고</h1>
<ul>
  <li>컴퓨터 네트워킹 하향식 접근 (제8판)</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> 태그: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#netowrk" class="page__taxonomy-item p-category" rel="tag">Netowrk</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> 카테고리: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#network" class="page__taxonomy-item p-category" rel="tag">Network</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 업데이트:</strong> <time class="dt-published" datetime="2023-11-05T00:00:00+09:00">November 5, 2023</time></p>

      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">공유하기</h4>
  

  <a href="https://twitter.com/intent/tweet?text=%5BNetwork%5D+%EB%B3%B4%EC%95%88%20http%3A%2F%2Flocalhost%3A4000%2Fnetwork%2F44%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fnetwork%2F44%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fnetwork%2F44%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/%ED%85%8C%EC%8A%A4%ED%8A%B8/43/" class="pagination--pager" title="[테스트] 단위 테스트
">이전</a>
    
    
      <a href="/%ED%85%8C%EC%8A%A4%ED%8A%B8/45/" class="pagination--pager" title="[테스트] 다양한 테스트 방법
">다음</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">참고</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/spring/talk-talk/68/" rel="permalink">[프로젝트] Spring STOMP 채팅 기능 [1]
</a>
      
    </h2>

    
      <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> April 30 2024</p>
    

    <!-- 

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p> -->
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/spring/67/" rel="permalink">[프로젝트] Spring Interceptor 인증/인가
</a>
      
    </h2>

    
      <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> April 29 2024</p>
    

    <!-- 

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">배경
</p> -->
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/devops/66/" rel="permalink">[DevOps] Github Action CI/CD
</a>
      
    </h2>

    
      <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> March 28 2024</p>
    

    <!-- 

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">배경
</p> -->
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/65/" rel="permalink">[트러블슈팅] OneToOne 즉시로딩 문제
</a>
      
    </h2>

    
      <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> March 10 2024</p>
    

    <!-- 

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">문제상황
</p> -->
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>팔로우:</strong></li>
    

    
      
        
          <li><a href="mailto:mjinsu098@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
        
      
        
          <li><a href="https://github.com/jinsu868" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> 피드</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 문진수(Moon JinSu). Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
