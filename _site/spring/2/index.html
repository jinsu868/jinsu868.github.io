<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[Spring] IoC, DI 컨테이너 - Jinsu’s story</title>
<meta name="description" content="IoC (Inversion of Control)">


  <meta name="author" content="Moon JinSu">
  
  <meta property="article:author" content="Moon JinSu">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="Jinsu's story">
<meta property="og:title" content="[Spring] IoC, DI 컨테이너">
<meta property="og:url" content="http://localhost:4000/spring/2/">


  <meta property="og:description" content="IoC (Inversion of Control)">







  <meta property="article:published_time" content="2023-06-28T00:00:00+09:00">





  

  


<link rel="canonical" href="http://localhost:4000/spring/2/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "문진수(Moon JinSu)",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Jinsu's story Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Jinsu's story
          
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">토글 메뉴</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Moon JinSu</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>tech blog</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">팔로우</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Seoul, Korea</span>
        </li>
      

      
        
          
            <li><a href="mailto:mjinsu098@gmail.com" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="https://github.com/jinsu868" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->

<!-- Categories -->
<nav class="nav__list">
  <ul class="nav__items" id="category_tag_menu">
      <li>
          <span class="nav__sub-title">📂 Total (54)</span>
          <ul>
              
                  
                  <li>
                      <a href="/categories/#spring" class="">Spring (14)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#디자인패턴" class="">디자인패턴 (14)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#java" class="">Java (3)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#알고리즘" class="">알고리즘 (2)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#jpa" class="">JPA (7)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#데이터베이스" class="">데이터베이스 (4)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#network" class="">Network (5)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#클린코드" class="">클린코드 (1)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#git" class="">git (1)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#우테코" class="">우테코 (1)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#테스트" class="">테스트 (2)</a>
                  </li>
                  
              
                  
                  <li>
                      <a href="/categories/#devops" class="">DevOps (1)</a>
                  </li>
                  
              
          </ul>
      </li>
  </ul>
  </nav>

    </ul>
  </div>
</div>

  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[Spring] IoC, DI 컨테이너">
    <meta itemprop="description" content="IoC (Inversion of Control)">
    <meta itemprop="datePublished" content="2023-06-28T00:00:00+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="http://localhost:4000/spring/2/" class="u-url" itemprop="url">[Spring] IoC, DI 컨테이너
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 분 소요
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On This Page</h4></header>
              <ul class="toc__menu"><li><a href="#ioc-inversion-of-control">IoC (Inversion of Control)</a><ul><li><a href="#정의">정의</a></li><li><a href="#정리">정리</a></li><li><a href="#참고">참고</a></li></ul></li></ul>

            </nav>
          </aside>
        
        <h1 id="ioc-inversion-of-control">IoC (Inversion of Control)</h1>

<h2 id="정의">정의</h2>

<blockquote>
  <p>IoC란 객체의 생성, 생명주기의 관리까지 모든 객체에 대한 제어권이 바뀌었다는 것을 의미한다.</p>
</blockquote>

<p>위 정의만 읽고 IoC가 무엇인지 와닿지 않을 수 있다. 아래 예시를 보고 이해해보자.</p>

<p>우리는 기존에 코드를 작성할 때, 각 객체에서 자신이 필요한 객체를 생성하고 실행하도록 했었다.</p>

<p><img src="/assets/images/2_1.png" alt="img3" width="90%&quot;&quot;, height=&quot;40%&quot;" /></p>

<p>ManagerController 클래스가 파일 입출력에 관련된 객체(FileInputView, FileOutputVIew)를 직접 생성하고 <code class="language-plaintext highlighter-rouge">run()</code>메서드 안에서 사용하는 것을 볼 수 있다.</p>

<p>이 코드의 문제점은 무엇일까?</p>

<p>만약 우리가 파일로부터 입출력 하는 것이 아니라 콘솔로부터 입출력을 받아야 하는 상황이 생겼다고 해보자. 이를 위해서는 ManagerController의 코드를 아래와 같이 변경해야 한다.</p>

<p><img src="/assets/images/2_2.png" alt="img3" width="90%&quot;&quot;, height=&quot;40%&quot;" /></p>

<p>위와 같이 요구사항이 변경됐을 때, 클라이언트인 ManagerController에 변경이 발생한다. (OCP 위반)</p>

<p>이는 ManagerConroller가 인터페이스가 아닌 구현체에 직접 의존하고 있기 때문에 발생하는 것이다. (DIP 위반)</p>

<p>그렇다면 요구사항이 추가되거나 변경되더라도 기존 코드를 유지할 수 있는 방법이 있을까?</p>

<p>-&gt; <strong>ManagerController에서 구현체(ConsoleInputView, ..)에 의존하지 않고 인터페이스(InputView, OutputView)에만 의존하게 하면 된다.</strong></p>

<p><img src="/assets/images/2_4.png" alt="img3" width="90%&quot;&quot;, height=&quot;40%&quot;" /></p>

<p>ManagerController를 구현체가 아닌 인터페이스에만 의존하도록 변경했다. 그런데 당연히 이렇게 하면 안된다.</p>

<p>위 코드는 final을 넣었기 때문 빨간줄이 나왔지만 final이 없더라도 <code class="language-plaintext highlighter-rouge">run()</code>메소드 안에서 inputView와 outputView를 사용할 때 구현체가 없기 때문에 문제가 발생할 것이다. 이를 해결하기 위해서는 외부로부터 객체를 주입(DI)받아야 한다.</p>

<p><img src="/assets/images/2_3.png" alt="img3" width="90%&quot;&quot;, height=&quot;40%&quot;" /></p>

<p>외부로부터 구현 객체를 주입 받도록 코드를 수정했다. 이제 ManagerController는 어떤  InputView, OutputView가 들어오는 지 알지 못한 채로 자신의 로직(<code class="language-plaintext highlighter-rouge">run()</code>)을 실행하게 된다.</p>

<p>위 코드가 정상적으로 돌기 위해서는 외부에서 InputView, OutputVIew 객체를 생성하고 ManagerController에 주입해줘야 한다.</p>

<p><img src="/assets/images/2_5.png" alt="img3" width="90%&quot;&quot;, height=&quot;40%&quot;" /></p>

<p>AppConfig라는 클래스에서 InputView, OutputView의 실제 객체를 생성하고 ManagerController에 주입해주는 모습을 볼 수 있다.</p>

<ul>
  <li>
    <p>이처럼 외부에서 의존성을 주입해 주는 것을 DI라고 한다. DI는 의존적인 객체를 직접 생성하거나 제어하는 것이 아니라 단순히 특정 객체에 필요한 객체를 외부에서 연결해주는 것을 의미한다.</p>
  </li>
  <li>
    <p>참고 : 코드를 보면 알 수 있듯이 FileInputView, FileOutputView가 중복해서 생성된다. Spring DI 컨테이너를 사용하면 싱글톤으로 이들을 관리할 수 있다.</p>
  </li>
</ul>

<p>AppConfig는 실제 실행 흐름과는 전혀 관련이 없는 객체이다. 이와 같이 외부에서 실제 프로그램의 대한 제어 흐름을 관리하는 것을 제어가 역전되었다고 해서 IoC라고 한다. 그리고 여기서 실제로 객체를 생성하고 생명 주기를 관리해주는 친구(ex-AppConfig)를 IoC 컨테이너(DI 컨테이너)라고 한다.</p>

<h2 id="정리">정리</h2>

<p>오늘은 IoC, DI에 대해서 알아봤다. 기존에는 각 객체가 자신이 필요한 객체를 직접 생성하고 실행시켰다. 때문에 요구사항이 변경된다면 클라이언트 코드의 변경이 불가피했다. IoC 컨테이너를 사용하게 되면 실행 흐름과 관련없는 외부에서 객체를 생성하고 주입해주기 때문에 이런 문제가 해결된다.</p>

<p>Spring도 여기서 설명한 개념을 그대로 사용한다. 그리고 각 빈(객체)들을 싱글톤으로 관리해준다. 이에 대해서는 다음에 알아보자.</p>

<h2 id="참고">참고</h2>

<ul>
  <li><a href="https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8/dashboard">스프링 핵심 원리</a></li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> 태그: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#spring" class="page__taxonomy-item p-category" rel="tag">Spring</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> 카테고리: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#spring" class="page__taxonomy-item p-category" rel="tag">Spring</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 업데이트:</strong> <time class="dt-published" datetime="2023-06-28T00:00:00+09:00">June 28, 2023</time></p>

      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">공유하기</h4>
  

  <a href="https://twitter.com/intent/tweet?text=%5BSpring%5D+IoC%2C+DI+%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%20http%3A%2F%2Flocalhost%3A4000%2Fspring%2F2%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fspring%2F2%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fspring%2F2%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/spring/1/" class="pagination--pager" title="[Spring] 객체지향 프로그래밍
">이전</a>
    
    
      <a href="/spring/3/" class="pagination--pager" title="[Spring] 스프링 컨테이너
">다음</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">참고</h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4/54/" rel="permalink">[디자인패턴] 커맨드 패턴
</a>
      
    </h2>

    
      <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> December 10 2023</p>
    

    <!-- 

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">커맨드 패턴
</p> -->
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4/53/" rel="permalink">[디자인패턴] 상태 패턴
</a>
      
    </h2>

    
      <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> December 09 2023</p>
    

    <!-- 

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">상태 패턴
</p> -->
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4/52/" rel="permalink">[디자인패턴] 퍼사드 패턴
</a>
      
    </h2>

    
      <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> December 09 2023</p>
    

    <!-- 

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">퍼사드 패턴
</p> -->
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4/51/" rel="permalink">[디자인패턴] 어댑터 패턴
</a>
      
    </h2>

    
      <p class="page__meta"><i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i> December 09 2023</p>
    

    <!-- 

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 분 소요
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">어댑터 패턴
</p> -->
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>팔로우:</strong></li>
    

    
      
        
          <li><a href="mailto:mjinsu098@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
        
      
        
          <li><a href="https://github.com/jinsu868" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> 피드</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 문진수(Moon JinSu). Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
